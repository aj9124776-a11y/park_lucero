<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ParkManager - Sistema de Gesti√≥n de Estacionamientos</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">
                    <span class="park-icon">üÖøÔ∏è</span>
                    ParkManager
                </h1>
                <div class="header-info">
                    <span id="current-date" class="date-display"></span>
                    <span id="current-time" class="time-display"></span>
                </div>
            </div>
        </header>

        <!-- Navegaci√≥n -->
        <nav class="main-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <button class="nav-button active" data-module="pos">
                        <span class="nav-icon">üí∞</span>
                        <span class="nav-text">Punto de Venta</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-button" data-module="rates">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span class="nav-text">Tarifas</span>
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-button" data-module="reports">
                        <span class="nav-icon">üìä</span>
                        <span class="nav-text">Reportes</span>
                    </button>
                </li>
            </ul>
        </nav>

        <!-- Contenido Principal -->
        <main class="main-content">
            <!-- M√≥dulo 1: Punto de Venta -->
            <section id="pos-module" class="module active">
                <div class="module-header">
                    <h2>Punto de Venta</h2>
                    <div class="shift-controls">
                        <button id="open-shift" class="btn btn-success">Abrir Turno</button>
                        <button id="close-shift" class="btn btn-danger" disabled>Cerrar Turno</button>
                        <span id="shift-status" class="shift-status">Turno Cerrado</span>
                    </div>
                </div>

                <div class="pos-container">
                    <!-- Panel de Registro -->
                    <div class="registration-panel">
                        <div class="input-group">
                            <label for="vehicle-plate">Matr√≠cula del Veh√≠culo</label>
                            <input type="text" id="vehicle-plate" placeholder="Ej: ABC123" maxlength="10">
                        </div>

                        <div class="input-group">
                            <label for="rate-selector">Seleccionar Tarifa</label>
                            <select id="rate-selector">
                                <option value="">Cargando tarifas...</option>
                            </select>
                        </div>

                        <div class="action-buttons">
                            <button id="register-entry" class="btn btn-primary">Registrar Entrada</button>
                            <button id="register-exit" class="btn btn-secondary">Registrar Salida</button>
                        </div>
                    </div>

                    <!-- Panel de Veh√≠culos Estacionados -->
                    <div class="parked-vehicles-panel">
                        <h3>Veh√≠culos Estacionados</h3>
                        <div id="parked-vehicles-list" class="vehicles-list">
                            <!-- Los veh√≠culos se cargar√°n aqu√≠ din√°micamente -->
                        </div>
                    </div>

                    <!-- Panel de C√°lculo de Salida -->
                    <div id="exit-calculator" class="exit-calculator hidden">
                        <h3>Detalles de Salida</h3>
                        <div class="exit-details">
                            <div class="detail-item">
                                <span>Matr√≠cula:</span>
                                <span id="exit-plate"></span>
                            </div>
                            <div class="detail-item">
                                <span>Hora de Entrada:</span>
                                <span id="entry-time"></span>
                            </div>
                            <div class="detail-item">
                                <span>Hora de Salida:</span>
                                <span id="exit-time"></span>
                            </div>
                            <div class="detail-item">
                                <span>Tiempo Estacionado:</span>
                                <span id="parked-time"></span>
                            </div>
                            <div class="detail-item total-cost">
                                <span>Costo Total:</span>
                                <span id="total-cost">$0.00</span>
                            </div>
                        </div>
                        <button id="confirm-exit" class="btn btn-success">Confirmar Salida</button>
                    </div>
                </div>
            </section>

            <!-- M√≥dulo 2: Gesti√≥n de Tarifas -->
            <section id="rates-module" class="module">
                <div class="module-header">
                    <h2>Gesti√≥n de Tarifas</h2>
                    <button id="add-rate" class="btn btn-primary">Agregar Tarifa</button>
                </div>

                <div class="rates-container">
                    <!-- Formulario para agregar/editar tarifas -->
                    <div id="rate-form-container" class="rate-form-container hidden">
                        <h3 id="rate-form-title">Nueva Tarifa</h3>
                        <form id="rate-form" class="rate-form">
                            <div class="form-group">
                                <label for="rate-name">Nombre de la Tarifa</label>
                                <input type="text" id="rate-name" required>
                            </div>
                            <div class="form-group">
                                <label for="rate-type">Tipo de Tarifa</label>
                                <select id="rate-type" required>
                                    <option value="minute">Por Minuto</option>
                                    <option value="daily">Tarifa Diaria</option>
                                </select>
                            </div>
                            <div class="form-group" id="minute-rate-group">
                                <label for="cost-per-minute">Costo por Minuto ($)</label>
                                <input type="number" id="cost-per-minute" step="0.01" min="0">
                            </div>
                            <div class="form-group hidden" id="daily-rate-group">
                                <label for="daily-rate">Tarifa Diaria ($)</label>
                                <input type="number" id="daily-rate" step="0.01" min="0">
                            </div>
                            <div class="form-group">
                                <label for="rate-status">Estado</label>
                                <select id="rate-status">
                                    <option value="active">Activa</option>
                                    <option value="inactive">Inactiva</option>
                                </select>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Guardar Tarifa</button>
                                <button type="button" id="cancel-rate" class="btn btn-secondary">Cancelar</button>
                            </div>
                        </form>
                    </div>

                    <!-- Lista de tarifas -->
                    <div class="rates-list-container">
                        <h3>Tarifas Configuradas</h3>
                        <div id="rates-list" class="rates-list">
                            <!-- Las tarifas se cargar√°n aqu√≠ din√°micamente -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- M√≥dulo 3: Reportes y Contabilidad -->
            <section id="reports-module" class="module">
                <div class="module-header">
                    <h2>Reportes y Contabilidad</h2>
                    <div class="report-actions">
                        <button id="export-csv" class="btn btn-secondary">Exportar a CSV</button>
                        <button id="generate-report" class="btn btn-primary">Generar Reporte</button>
                    </div>
                </div>

                <div class="reports-container">
                    <!-- Filtros de reportes -->
                    <div class="report-filters">
                        <div class="filter-group">
                            <label for="report-period">Per√≠odo</label>
                            <select id="report-period">
                                <option value="today">Hoy</option>
                                <option value="yesterday">Ayer</option>
                                <option value="week">Esta Semana</option>
                                <option value="month">Este Mes</option>
                                <option value="custom">Personalizado</option>
                            </select>
                        </div>
                        <div class="filter-group hidden" id="custom-date-range">
                            <label for="start-date">Desde</label>
                            <input type="date" id="start-date">
                            <label for="end-date">Hasta</label>
                            <input type="date" id="end-date">
                        </div>
                    </div>

                    <!-- Resumen de estad√≠sticas -->
                    <div class="stats-summary">
                        <div class="stat-card">
                            <div class="stat-value" id="total-vehicles">0</div>
                            <div class="stat-label">Veh√≠culos Atendidos</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="total-income">$0.00</div>
                            <div class="stat-label">Ingresos Totales</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="avg-stay">0 min</div>
                            <div class="stat-label">Tiempo Promedio</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="current-parked">0</div>
                            <div class="stat-label">Estacionados Ahora</div>
                        </div>
                    </div>

                    <!-- Gr√°ficos y detalles -->
                    <div class="report-details">
                        <div class="detail-section">
                            <h3>Transacciones Recientes</h3>
                            <div id="transactions-list" class="transactions-list">
                                <!-- Las transacciones se cargar√°n aqu√≠ din√°micamente -->
                            </div>
                        </div>
                        <div class="detail-section">
                            <h3>Estad√≠sticas por Tarifa</h3>
                            <div id="rates-stats" class="rates-stats">
                                <!-- Las estad√≠sticas por tarifa se cargar√°n aqu√≠ din√°micamente -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Notificaciones -->
        <div id="notification" class="notification hidden"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>